/*
 *  jquery-sma-advertorial - v0.1.0
 *  Populate a list of deals as <ul> using the smartAIRdeals API.
 *  http://www.safras.info
 *
 *  Made by Spiros Safras
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="smaAdvertorial",g={clientId:"",categoryId:"",language:"",limit:0,mode:"list",datesVisible:!1,apiEndpoint:"",textLabels:{EL:['Βρήκαμε ότι το φθηνότερο αεροπορικό εισιτήριο με επιστροφή από OUTBOUND_CITY_NAME προς INBOUND_CITY_NAME για τις διακοπές των Χριστουγέννων είναι από OUTBOUND_DEPARTURE_DATE έως INBOUND_DEPARTURE_DATE με μόλις PRICE Ευρώ. Πατήστε <a href="DATA_PROVIDER_DEEPLINK">εδώ</a> για περισσότερες πληροφορίες.',' Αν πάλι, σας φαντάζει ένα ταξίδι από OUTBOUND_CITY_NAME προς INBOUND_CITY_NAME ως ένας Χριστουγεννιάτικος προορισμός, το χαμηλότερο αεροπορικό εισιτήριο με επιστροφή που εντοπίσαμε είναι από OUTBOUND_DEPARTURE_DATE μέχρι INBOUND_DEPARTURE_DATE με μόλις PRICE Ευρώ. Είστε μόνο ένα κλικ μακρυά, πατώντας <a href="DATA_PROVIDER_DEEPLINK">εδώ</a>.',' Τέλος, με μόλις PRICE Ευρώ, εντοπίσαμε το φθηνότερο αεροπορικό εισιτήριο με επιστροφή από OUTBOUND_CITY_NAME προς INBOUND_CITY_NAME από OUTBOUND_DEPARTURE_DATE μέχρι INBOUND_DEPARTURE_DATE. Εκμεταλλευτείτε την ευκαρία πατώντας <a target="_blank" href="DATA_PROVIDER_DEEPLINK">εδώ</a>.'],EN:['We have identified that the cheapest return air ticket from OUTBOUND_CITY_NAME to INBOUND_CITY_NAME for the Christmas holidays is from OUTBOUND_DEPARTURE_DATE until INBOUND_DEPARTURE_DATE for only PRICE Euros. Click <a href="DATA_PROVIDER_DEEPLINK">here</a> for more information.',' If a trip to INBOUND_CITY_NAME from OUTBOUND_CITY_NAME sounds like a appealing Christmas destination, the cheapest return air ticket that we have found is from OUTBOUND_DEPARTURE_DATE until INBOUND_DEPARTURE_DATE for only PRICE Euros. You are just a click away, by clicking <a href="DATA_PROVIDER_DEEPLINK">here</a>.',' Finally, for only PRICE Euros, we spotted out the cheapest return air ticket from OUTBOUND_CITY_NAME to INBOUND_CITY_NAME from OUTBOUND_DEPARTURE_DATE until INBOUND_DEPARTURE_DATE. Take advantage of this Christmas deal, by clicking <a target="_blank" href="DATA_PROVIDER_DEEPLINK">here</a>.']}};a.extend(e.prototype,{init:function(){this.getData()},getData:function(){var b=this;a.ajax({method:"GET",url:this.settings.apiEndpoint,data:{clientId:this.settings.clientId,categoryId:this.settings.categoryId,language:this.settings.language,limit:this.settings.limit}}).done(function(c){var d=JSON.parse(c);if("list"===b.settings.mode){a(b.element).append("<ul id='smaAdvertorial-list'></ul>");for(var e in d)d.hasOwnProperty(e)&&a("#smaAdvertorial-list").append('<li><a target="_blank" href="'+d[e].DATA_PROVIDER_DEEPLINK+'">'+d[e].PRICE+"&euro; "+d[e].OUTBOUND_CITY_NAME+" &rarr; "+d[e].INBOUND_CITY_NAME+" "+d[e].OUTBOUND_DEPARTURE_DATE+" - "+d[e].INBOUND_DEPARTURE_DATE+"</a></li>")}else if("text"===b.settings.mode){b.settings.limit>3&&(b.settings.limit=3);for(var f=0;f<b.settings.limit;f++)a(b.element).append(b.settings.textLabels[b.settings.language][f].replace("DATA_PROVIDER_DEEPLINK",d[f].DATA_PROVIDER_DEEPLINK).replace("PRICE",d[f].PRICE).replace("OUTBOUND_CITY_NAME",d[f].OUTBOUND_CITY_NAME.replace("ς","")).replace("OUTBOUND_DEPARTURE_AIRPORT_CODE",d[f].OUTBOUND_DEPARTURE_AIRPORT_CODE).replace("INBOUND_CITY_NAME",d[f].INBOUND_CITY_NAME.replace("ς","")).replace("INBOUND_DEPARTURE_AIRPORT_CODE",d[f].INBOUND_DEPARTURE_AIRPORT_CODE).replace("OUTBOUND_DEPARTURE_DATE",d[f].OUTBOUND_DEPARTURE_DATE).replace("INBOUND_DEPARTURE_DATE",d[f].INBOUND_DEPARTURE_DATE))}else if("cards"===b.settings.mode){var g,h;b.settings.displayReverse===!0?(g=new Array(d[0].INBOUND_CITY_IMG,d[1].INBOUND_CITY_IMG,d[2].INBOUND_CITY_IMG,d[3].INBOUND_CITY_IMG),h=new Array(d[0].INBOUND_CITY_NAME,d[1].INBOUND_CITY_NAME,d[2].INBOUND_CITY_NAME,d[3].INBOUND_CITY_NAME)):(g=new Array(d[0].OUTBOUND_CITY_IMG,d[1].OUTBOUND_CITY_IMG,d[2].OUTBOUND_CITY_IMG,d[3].OUTBOUND_CITY_IMG),h=new Array(d[0].OUTBOUND_CITY_NAME,d[1].OUTBOUND_CITY_NAME,d[2].OUTBOUND_CITY_NAME,d[3].OUTBOUND_CITY_NAME)),a(b.element).append('<table cellpadding="0" cellspacing="0" border="0">  <tr>    <td style="     position: relative;     width: 328px;     height:135px;     background-image:url(\''+g[0]+'\')">      <span style="       position: absolute;       top:20px;       left:20px;       font-family:Arial;       font-size:25px;       text-shadow: 2px 2px #000000;       color:#FFFFFF;       font-weight:bold">'+h[0]+"      </span>"+function(){if(b.settings.datesVisible)return'<span style=" position: absolute; top:50px; left:20px; font-family:Arial; font-size:22px; text-shadow: 2px 2px #000000; color:#FFFFFF; font-weight:bold">'+d[0].OUTBOUND_DEPARTURE_DATE+" - "+d[0].INBOUND_DEPARTURE_DATE+"</span>"}()+'      <span style="       position: absolute;       bottom:0px;       right:10px;       font-family:Arial;       font-size:60px;       text-shadow: 2px 2px #000000;       color:#FFFFFF;       font-weight:bold">'+d[0].PRICE_ROUNDED+'&euro;      </span>      <a target="_blank" href="'+d[0].DATA_PROVIDER_DEEPLINK+'"        <div style="         position: absolute;         left:0px;         top:0px;         width:328px;         height:135px;         background-color:transparent">        </div>      </a>    </td>    <td style="width:10px" ></td>    <td style="     position: relative;     width: 328px;     height:135px;     background-image:url(\''+g[1]+'\')">      <span style="       position: absolute;       top:20px;       left:20px;       font-family:Arial;       font-size:25px;       text-shadow: 2px 2px #000000;       color:#FFFFFF;       font-weight:bold">'+h[1]+"      </span>"+function(){if(b.settings.datesVisible)return'<span style=" position: absolute; top:50px; left:20px; font-family:Arial; font-size:22px; text-shadow: 2px 2px #000000; color:#FFFFFF; font-weight:bold">'+d[1].OUTBOUND_DEPARTURE_DATE+" - "+d[1].INBOUND_DEPARTURE_DATE+"</span>"}()+'      <span style="       position: absolute;       bottom:0px;       right:10px;       font-family:Arial;       font-size:60px;       text-shadow: 2px 2px #000000;       color:#FFFFFF;       font-weight:bold">'+d[1].PRICE_ROUNDED+'&euro;      </span>      <a target="_blank" href="'+d[1].DATA_PROVIDER_DEEPLINK+'"        <div style="         position: absolute;         left:0px;         top:0px;         width:328px;         height:135px;         background-color:transparent">        </div>      </a>    </td>  </tr>  <tr colspan="3" style="height:10px"></tr>  <tr>    <td style="     position: relative;     width: 328px;     height:135px;     background-image:url(\''+g[2]+'\')">      <span style="       position: absolute;       top:20px;       left:20px;       font-family:Arial, Helvetica, sans-serif;       font-size:25px;       text-shadow: 2px 2px #000000;       color:#FFFFFF;       font-weight:bold">'+h[2]+"      </span>"+function(){if(b.settings.datesVisible)return'<span style=" position: absolute; top:50px; left:20px; font-family:Arial; font-size:22px; text-shadow: 2px 2px #000000; color:#FFFFFF; font-weight:bold">'+d[2].OUTBOUND_DEPARTURE_DATE+" - "+d[2].INBOUND_DEPARTURE_DATE+"</span>"}()+'      <span style="       position: absolute;       bottom:0px;       right:10px;       font-family:Arial, Helvetica, sans-serif;       font-size:60px;       text-shadow: 2px 2px #000000;       color:#FFFFFF;       font-weight:bold">'+d[2].PRICE_ROUNDED+'&euro;      </span>      <a target="_blank" href="'+d[2].DATA_PROVIDER_DEEPLINK+'"        <div style="         position: absolute;         left:0px;         top:0px;         width:328px;         height:135px;         background-color:transparent">        </div>      </a>    </td>    <td style="width:10px" ></td>    <td style="     position: relative;     width: 328px;     height:135px;     background-image:url(\''+g[3]+'\')">      <span style="       position: absolute;       top:20px;       left:20px;       font-family:Arial, Helvetica, sans-serif;       font-size:25px;       text-shadow: 2px 2px #000000;       color:#FFFFFF;       font-weight:bold">'+h[3]+"      </span>"+function(){if(b.settings.datesVisible)return'<span style=" position: absolute; top:50px; left:20px; font-family:Arial; font-size:22px; text-shadow: 2px 2px #000000; color:#FFFFFF; font-weight:bold">'+d[3].OUTBOUND_DEPARTURE_DATE+" - "+d[3].INBOUND_DEPARTURE_DATE+"</span>"}()+'      <span style="       position: absolute;       bottom:0px;       right:10px;       font-family:Arial, Helvetica, sans-serif;       font-size:60px;       text-shadow: 2px 2px #000000;       color:#FFFFFF;       font-weight:bold">'+d[3].PRICE_ROUNDED+'&euro;      </span>      <a target="_blank" href="'+d[3].DATA_PROVIDER_DEEPLINK+'"        <div style="         position: absolute;         left:0px;         top:0px;         width:328px;         height:135px;         background-color:transparent">        </div>      </a>    </td>  </tr></table>')}})}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);
/*
 *  jquery-sma-advertorial - v0.1.0
 *  Populate a list of deals as <ul> using the smartAIRdeals API.
 *  http://www.smartairdeals.com
 *
 *  Made by Spiros Safras
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="smaAdvertorial",g={clientId:"",categoryId:"",language:"",limit:0,apiEndpoint:""};a.extend(e.prototype,{init:function(){this.getData()},getData:function(){var b=this;a.ajax({method:"GET",url:this.settings.apiEndpoint,data:{clientId:this.settings.clientId,categoryId:this.settings.categoryId,language:this.settings.language,limit:this.settings.limit}}).done(function(c){a(b.element).append("<ul id='smaAdvertorial-list'></ul>");var d=JSON.parse(c);for(var e in d)d.hasOwnProperty(e)&&a("#smaAdvertorial-list").append('<li><a href="'+d[e].DATA_PROVIDER_DEEPLINK+'">'+d[e].PRICE+"&euro; "+d[e].OUTBOUND_CITY_NAME+" ("+d[e].OUTBOUND_DEPARTURE_AIRPORT_CODE+") &rarr; "+d[e].INBOUND_CITY_NAME+" ("+d[e].INBOUND_DEPARTURE_AIRPORT_CODE+") "+d[e].OUTBOUND_DEPARTURE_DATE+" - "+d[e].INBOUND_DEPARTURE_DATE+"</a></li>")})}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);